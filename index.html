<<<<<<< HEAD <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html>

    <head>
        <title>刘媛作品</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="description" content="Sliding Panel Photowall Gallery with jQuery" />
        <meta name="keywords" content="jquery, images, gallery, photowall, slideshow" />
        <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />
    </head>
    <style>
        a {
            color: #fff;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        span.reference {
            position: fixed;
            left: 30px;
            bottom: 0px;
            font-size: 9px;
        }
        span.reference a {
            color: #aaa;
        }
        span.reference a:hover {
            color: #ddd;
            text-decoration: none;
        }
    </style>

    <body>

        <div class="infobar">
            <span id="description"></span>
            <span id="loading">Loading Image</span>
            <span class="reference">
刘媛作品
            </span>
        </div>
        <div id="thumbsWrapper">
            <div id="content">
                <img src="thumbs/1.jpg" alt="images/1.jpg" title="" />
                <img src="thumbs/1%20(2).jpg" alt="images/1%20(2).jpg" title="" />
                <img src="thumbs/2%20(2).jpg" alt="images/2%20(2).jpg" title="" />
                <img src="thumbs/2.jpg" alt="images/2.jpg" title="" />
                <img src="thumbs/3%20(2).jpg" alt="images/3%20(2).jpg" title="" />
                <img src="thumbs/3.jpg" alt="images/3.jpg" title="" />

                <img src="thumbs/4%20(2).jpg" alt="images/4%20(2).jpg" title="" />
                <img src="thumbs/4.jpg" alt="images/4.jpg" title="" />

                <img src="thumbs/5%20(2).jpg" alt="images/5%20(2).jpg" title="" />
                <img src="thumbs/5.jpg" alt="images/5.jpg" title="" />

                <img src="thumbs/6%20(2).jpg" alt="images/6%20(2).jpg" title="" />
                <img src="thumbs/6.jpg" alt="images/6.jpg" title="" />

                <img src="thumbs/7%20(2).jpg" alt="images/7%20(2).jpg" title="" />
                <img src="thumbs/7.jpg" alt="images/7.jpg" title="" />

                <img src="thumbs/8%20(2).jpg" alt="images/8%20(2).jpg" title="" />
                <img src="thumbs/8.jpg" alt="images/8.jpg" title="" />

                <img src="thumbs/9%20(2).jpg" alt="images/9%20(2).jpg" title="" />
                <img src="thumbs/9.jpg" alt="images/9.jpg" title="" />

                <!--img src="thumbs/9.png" alt="images/9.png" title="" /-->
                <img src="thumbs/10.jpg" alt="images/10.jpg" title="" />

                <img src="thumbs/11.jpg" alt="images/11.jpg" title="" />
                <img src="thumbs/12.jpg" alt="images/12.jpg" title="" />
                <img src="thumbs/13.jpg" alt="images/13.jpg" title="" />
                <img src="thumbs/14.jpg" alt="images/14.jpg" title="" />
                <img src="thumbs/15.jpg" alt="images/15.jpg" title="" />
                <img src="thumbs/17.jpg" alt="images/17.jpg" title="" />
                <img src="thumbs/022.jpg" alt="images/022.jpg" title="" />
                <img src="thumbs/042.jpg" alt="images/042.jpg" title="" />
                <img src="thumbs/428.jpg" alt="images/428.jpg" title="" />
                <img src="thumbs/2011.61.jpg" alt="images/2011.61.jpg" title="" />
                <img src="thumbs/4578.jpg" alt="images/4578.jpg" title="" />
                <img src="thumbs/5286.JPG" alt="images/5286.JPG" title="" />
                <img src="thumbs/5353.jpg" alt="images/5353.jpg" title="" />
                <img src="thumbs/5864.jpg" alt="images/5864.jpg" title="" />
                <img src="thumbs/7625.jpg" alt="images/7625.jpg" title="" />
                <img src="thumbs/7879.jpg" alt="images/7879.jpg" title="" />

                <img src="thumbs/8246.jpg" alt="images/8246.jpg" title="" />
                <img src="thumbs/24420.jpg" alt="images/24420.jpg" title="" />
                <img src="thumbs/25445.jpg" alt="images/25445.jpg" title="" />
                <!--img src="thumbs/25432.jpg" alt="images/25432.jpg" title="" /-->
                <img src="thumbs/42227.jpg" alt="images/42227.jpg" title="" />
                <img src="thumbs/45205.jpg" alt="images/45205.jpg" title="" />
                <img src="thumbs/52345.jpg" alt="images/52345.jpg" title="" />
                <img src="thumbs/124775.jpg" alt="images/124775.jpg" title="" />
                <img src="thumbs/125400.jpg" alt="images/125400.jpg" title="" />
                <img src="thumbs/444540.jpg" alt="images/444540.jpg" title="" />
                <img src="thumbs/450041.jpg" alt="images/450041.jpg" title="" />
                <img src="thumbs/457212.jpg" alt="images/457212.jpg" title="" />
                <img src="thumbs/785412.jpg" alt="images/785412.jpg" title="" />
                <img src="thumbs/4575750.jpg" alt="images/4575750.jpg" title="" />
                <img src="thumbs/12424242.jpg" alt="images/12424242.jpg" title="" />
                <img src="thumbs/42425555.jpg" alt="images/42425555.jpg" title="" />
                <img src="thumbs/logo.jpg" alt="images/logo.jpg" title="" />

                <img src="thumbs/MEKE.jpg" alt="images/MEKE.jpg" title="" />
                <!--img src="thumbs/pink%20logo%20(2).png" alt="images/pink%20logo%20(2).png" title="" />
                <img src="thumbs/pink%20logo.png" alt="images/pink%20logo.png" title="" /-->
                <img src="thumbs/ppt101.jpg" alt="images/ppt101.jpg" title="" />
                <img src="thumbs/ppt105.jpg" alt="images/ppt105.jpg" title="" />
                <img src="thumbs/SIBCO.jpg" alt="images/SIBCO.jpg" title="" />
                <img src="thumbs/tnb%20logo1.jpg" alt="images/tnb%20logo1.jpg" title="" />




                <div class="placeholder"></div>
            </div>
        </div>
        <div id="panel">
            <div id="wrapper">
                <a id="prev"></a>
                <a id="next"></a>
            </div>
        </div>
        <!-- The JavaScript -->
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
        <script type="text/javascript">
            $(function () {
                /* this is the index of the last clicked picture */
                var current = -1;
                /* number of pictures */
                var totalpictures = $('#content img').size();
                /* speed to animate the panel and the thumbs wrapper */
                var speed = 500;

                /* show the content */
                $('#content').show();

                /*
                when the user resizes the browser window,
                the size of the picture being viewed is recalculated;
                 */
                $(window).bind('resize', function () {
                    var $picture = $('#wrapper').find('img');
                    resize($picture);
                });

                /*
                when hovering a thumb, animate it's opacity
                for a cool effect;
                when clicking on it, we load the corresponding large image;
                the source of the large image is stored as
                the "alt" attribute of the thumb image
                 */
                $('#content > img').hover(function () {
                    var $this = $(this);
                    $this.stop().animate({
                        'opacity': '1.0'
                    }, 200);
                }, function () {
                    var $this = $(this);
                    $this.stop().animate({
                        'opacity': '0.4'
                    }, 200);
                }).bind('click', function () {
                    var $this = $(this);

                    /* shows the loading icon */
                    $('#loading').show();

                    $('<img/>').load(function () {
                        $('#loading').hide();

                        if ($('#wrapper').find('img').length) return;
                        current = $this.index();
                        var $theImage = $(this);
                        /*
                        After it's loaded we hide the loading icon
                        and resize the image, given the window size;
                        then we append the image to the wrapper
                        */

                        resize($theImage);

                        $('#wrapper').append($theImage);
                        /* make its opacity animate */
                        $theImage.fadeIn(800);

                        /* and finally slide up the panel */
                        $('#panel').animate({
                            'height': '100%'
                        }, speed, function () {
                            /*
                            if the picture has a description,
                            it's stored in the title attribute of the thumb;
                            show it if it's not empty
                             */
                            var title = $this.attr('title');
                            if (title != '')
                                $('#description').html(title).show();
                            else
                                $('#description').empty().hide();

                            /*
                            if our picture is the first one,
                            don't show the "previous button"
                            for the slideshow navigation;
                            if our picture is the last one,
                            don't show the "next button"
                            for the slideshow navigation
                             */
                            if (current == 0)
                                $('#prev').hide();
                            else
                                $('#prev').fadeIn();
                            if (current == parseInt(totalpictures - 1))
                                $('#next').hide();
                            else
                                $('#next').fadeIn();
                            /*
                            we set the z-index and height of the thumbs wrapper
                            to 0, because we want to slide it up afterwards,
                            when the user clicks the large image
                             */
                            $('#thumbsWrapper').css({
                                'z-index': '0',
                                'height': '0px'
                            });
                        });
                    }).attr('src', $this.attr('alt'));
                });

                /*
                when hovering a large image,
                we want to slide up the thumbs wrapper again,
                and reset the panel (like it was initially);
                this includes removing the large image element
                 */
                $('#wrapper > img').live('click', function () {
                    $this = $(this);
                    $('#description').empty().hide();

                    $('#thumbsWrapper').css('z-index', '10')
                        .stop()
                        .animate({
                            'height': '100%'
                        }, speed, function () {
                            var $theWrapper = $(this);
                            $('#panel').css('height', '0px');
                            $theWrapper.css('z-index', '0');
                            /*
                        remove the large image element
                        and the navigation buttons
                         */
                            $this.remove();
                            $('#prev').hide();
                            $('#next').hide();
                        });
                });

                /*
                when we are viewing a large image,
                if we navigate to the right/left we need to know
                which image is the corresponding neighbour.
                we know the index of the current picture (current),
                so we can easily get to the neighbour:
                 */
                $('#next').bind('click', function () {
                    var $this = $(this);
                    var $nextimage = $('#content img:nth-child(' + parseInt(current + 2) + ')');
                    navigate($nextimage, 'right');
                });
                $('#prev').bind('click', function () {
                    var $this = $(this);
                    var $previmage = $('#content img:nth-child(' + parseInt(current) + ')');
                    navigate($previmage, 'left');
                });

                /*
                given the next or previous image to show,
                and the direction, it loads a new image in the panel.
                 */
                function navigate($nextimage, dir) {
                    /*
                    if we are at the end/beginning
                    then there's no next/previous
                     */
                    if (dir == 'left' && current == 0)
                        return;
                    if (dir == 'right' && current == parseInt(totalpictures - 1))
                        return;
                    $('#loading').show();
                    $('<img/>').load(function () {
                        var $theImage = $(this);
                        $('#loading').hide();
                        $('#description').empty().fadeOut();

                        $('#wrapper img').stop().fadeOut(500, function () {
                            var $this = $(this);

                            $this.remove();
                            resize($theImage);

                            $('#wrapper').append($theImage.show());
                            $theImage.stop().fadeIn(800);

                            var title = $nextimage.attr('title');
                            if (title != '') {
                                $('#description').html(title).show();
                            } else
                                $('#description').empty().hide();

                            if (current == 0)
                                $('#prev').hide();
                            else
                                $('#prev').show();
                            if (current == parseInt(totalpictures - 1))
                                $('#next').hide();
                            else
                                $('#next').show();
                        });
                        /*
                        increase or decrease the current variable
                         */
                        if (dir == 'right')
                        ++current;
                        else if (dir == 'left')
                        --current;
                    }).attr('src', $nextimage.attr('alt'));
                }

                /*
                resizes an image given the window size,
                considering the margin values
                 */
                function resize($image) {
                    var windowH = $(window).height() - 100;
                    var windowW = $(window).width() - 80;
                    var theImage = new Image();
                    theImage.src = $image.attr("src");
                    var imgwidth = theImage.width;
                    var imgheight = theImage.height;

                    if ((imgwidth > windowW) || (imgheight > windowH)) {
                        if (imgwidth > imgheight) {
                            var newwidth = windowW;
                            var ratio = imgwidth / windowW;
                            var newheight = imgheight / ratio;
                            theImage.height = newheight;
                            theImage.width = newwidth;
                            if (newheight > windowH) {
                                var newnewheight = windowH;
                                var newratio = newheight / windowH;
                                var newnewwidth = newwidth / newratio;
                                theImage.width = newnewwidth;
                                theImage.height = newnewheight;
                            }
                        } else {
                            var newheight = windowH;
                            var ratio = imgheight / windowH;
                            var newwidth = imgwidth / ratio;
                            theImage.height = newheight;
                            theImage.width = newwidth;
                            if (newwidth > windowW) {
                                var newnewwidth = windowW;
                                var newratio = newwidth / windowW;
                                var newnewheight = newheight / newratio;
                                theImage.height = newnewheight;
                                theImage.width = newnewwidth;
                            }
                        }
                    }
                    $image.css({
                        'width': theImage.width + 'px',
                        'height': theImage.height + 'px'
                    });
                }
            });
        </script>
    </body>

    </html>
    ======= liuyuan show ========== >>>>>>> origin/master
